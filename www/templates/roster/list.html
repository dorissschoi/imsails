<ion-view>
	<ion-header-bar class="item-input-inset">
	    <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
        </button>
        <h1 class='title'>Roster</h1>
	</ion-header-bar>
	<div class="bar item-input-inset">
		<label class="item-input-wrapper">
			<i class="icon ion-search placeholder-icon"></i>
		    <input type="text" ng-model="searchText">
		</label>
	</div>
	<ion-content class='has-subheader'>
		<ion-list>
			<ion-item class="item-avatar" 
				ng-repeat="model in collection.models | rosterFilter:searchText"
				ng-controller="RosterItemCtrl"
				ng-class="model.selected ? 'selected' : ''"
				href="#/chat/{{model.jid}}">
				<img ng-src="{{model.photoUrl}}" aria-label="{{model.name}}">
				<h2>
					<span>{{model.name}}</span>
					<!-- tag-editor ng-model="model.tags" fetch="https://mob.myvnc.com/file/api/tag" template-url='templates/tag.html' placeholder="Tag (e.g. Team)">
	  				</tag-editor -->
				</h2>
				<p>
					{{model.jid}}
				</p>
				<ion-option-button class="button button-positive icon-left ion-edit" on-tap="edit();">Edit</ion-option-button>
				<ion-option-button class="button button-assertive icon-left ion-trash-a" on-tap="remove();">Delete</ion-option-button>
			</ion-item>
		</ion-list>
		<ion-infinite-scroll ng-if="collection.state.skip < collection.state.count" on-infinite="controller.loadMore()">
		</ion-infinite-scroll>
	</ion-content>
</ion-view>